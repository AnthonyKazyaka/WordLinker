<div class="game-container" *ngIf="game">
  <div class="game-header">
    <h1>Word Linker Game</h1>
    <div class="game-stats">
      <div class="score">Score: {{ game.score }}</div>
      <div class="chain-progress">
        <div class="progress-label">Chain Progress:</div>
        <div class="progress-bar">
          <div class="progress-fill" [style.width]="(game.currentWordChain.length / game.maxChainLength * 100) + '%'"></div>
        </div>
        <div class="progress-text">{{ game.currentWordChain.length || 0 }}/{{ game.maxChainLength }}</div>
      </div>
    </div>
  </div>
  
  <div class="current-word-container">
    <div class="current-word" *ngIf="game.currentWord">
      <h2>Current Word: <span>{{ game.currentWord }}</span></h2>
      <p class="hint">Select a word pair below that begins with "{{ game.currentWord }}"</p>
    </div>
  </div>
  
  <div class="word-chain-container">
    <h3>Your Word Chain:</h3>
    <div class="word-chain">
      <div *ngIf="game.currentWordChain.length === 0" class="empty-chain">
        <div class="empty-icon">ðŸ”—</div>
        <p>No words in chain yet. Start by selecting a word pair below.</p>
      </div>
      <ul *ngIf="game.currentWordChain.length > 0" class="chain-list">
        <li *ngFor="let pair of game.currentWordChain; let i = index" class="chain-item">
          <span class="order">{{ i + 1 }}</span>
          <div class="pair-content">
            <span class="first-word">{{ pair.firstWord }}</span>
            <span class="pair-arrow">â†’</span>
            <span class="second-word">{{ pair.secondWord }}</span>
          </div>
        </li>
      </ul>
    </div>
  </div>
  
  <div class="available-pairs-container" *ngIf="!game.isGameOver">
    <h3>Available Word Pairs:</h3>
    <div class="available-pairs">
      <div *ngIf="availableWordPairs.length === 0" class="no-pairs">
        <div class="no-pairs-icon">ðŸ˜•</div>
        <p>No compatible word pairs available. Try restarting with a different word.</p>
        <button (click)="restartGame()" class="restart-button">Restart Game</button>
      </div>
      <div *ngIf="availableWordPairs.length > 0" class="pairs-grid">
        <div *ngFor="let pair of availableWordPairs" 
             (click)="selectWordPair(pair)" 
             class="word-pair-item">
          <span class="first-word">{{ pair.firstWord }}</span>
          <span class="pair-arrow">â†’</span>
          <span class="second-word">{{ pair.secondWord }}</span>
        </div>
      </div>
    </div>
  </div>
  
  <div class="game-over-container" *ngIf="game.isGameOver">
    <div class="game-over-content">
      <h2>Game Over!</h2>
      <div class="final-score">Your final score: {{ game.score }}</div>
      <div class="game-over-message">
        <p *ngIf="game.currentWordChain.length >= game.maxChainLength">
          Congratulations! You've completed the full word chain!
        </p>
        <p *ngIf="game.currentWordChain.length < game.maxChainLength">
          Good effort! You created a chain of {{ game.currentWordChain.length }} words.
        </p>
      </div>
      <div class="game-over-actions">
        <button (click)="restartGame()" class="action-button restart">Play Again</button>
        <button (click)="goToMenu()" class="action-button menu">Main Menu</button>
      </div>
    </div>
  </div>
  
  <div class="game-controls" *ngIf="!game.isGameOver">
    <button (click)="goToMenu()" class="menu-button">Back to Menu</button>
    <button (click)="restartGame()" class="restart-button">Restart Game</button>
  </div>
</div>